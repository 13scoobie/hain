'use strict';

var textutil = require('../utils/textutil');

module.exports = function (context) {
  var rpc = context.rpc;

  function enqueue(message, duration) {
    rpc.send('on-toast', {
      message: textutil.sanitize(message),
      duration: duration
    });
  }

  return { enqueue: enqueue };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci90b2FzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNLFdBQVcsUUFBUSxtQkFBUixDQUFYOztBQUVOLE9BQU8sT0FBUCxHQUFpQixVQUFDLE9BQUQsRUFBYTtBQUM1QixNQUFNLE1BQU0sUUFBUSxHQUFSLENBRGdCOztBQUc1QixXQUFTLE9BQVQsQ0FBaUIsT0FBakIsRUFBMEIsUUFBMUIsRUFBb0M7QUFDbEMsUUFBSSxJQUFKLENBQVMsVUFBVCxFQUFxQjtBQUNuQixlQUFTLFNBQVMsUUFBVCxDQUFrQixPQUFsQixDQUFUO0FBQ0Esd0JBRm1CO0tBQXJCLEVBRGtDO0dBQXBDOztBQU9BLFNBQU8sRUFBRSxnQkFBRixFQUFQLENBVjRCO0NBQWIiLCJmaWxlIjoic2VydmVyL3RvYXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgdGV4dHV0aWwgPSByZXF1aXJlKCcuLi91dGlscy90ZXh0dXRpbCcpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoY29udGV4dCkgPT4ge1xyXG4gIGNvbnN0IHJwYyA9IGNvbnRleHQucnBjO1xyXG5cclxuICBmdW5jdGlvbiBlbnF1ZXVlKG1lc3NhZ2UsIGR1cmF0aW9uKSB7XHJcbiAgICBycGMuc2VuZCgnb24tdG9hc3QnLCB7XHJcbiAgICAgIG1lc3NhZ2U6IHRleHR1dGlsLnNhbml0aXplKG1lc3NhZ2UpLFxyXG4gICAgICBkdXJhdGlvblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBlbnF1ZXVlIH07XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
